# Proxy transport options
# Include this file in each proxy location block

# HTTP/1.1 to upstream (required for WebSocket upgrade and keepalive)
proxy_http_version 1.1;

# Buffering - read full upstream response before sending to client
proxy_buffering         on;
proxy_buffer_size       128k;
proxy_buffers           4 256k;
proxy_busy_buffers_size 256k;

# Pass error pages from upstream
proxy_intercept_errors off;

# Hash table sizing for proxy headers
proxy_headers_hash_max_size    1024;
proxy_headers_hash_bucket_size 128;
